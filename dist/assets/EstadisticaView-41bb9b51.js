import{k as S,u as O,r as c,a as C,o as d,c as u,b as t,t as n,d as B,w as D,i as I,v as N,F as v,e as E,f as g}from"./index-66d35472.js";import{a as h}from"./axios-21b846bc.js";import{l as p}from"./index-a02dc08b.js";const F={class:"p-4 text-4xl font-extrabold text-center text-gray-900 bg-gray-200"},V={class:"w-1/2 mt-4 text-left"},M={"aria-label":"breadcrumb",class:"w-max"},j={class:"flex flex-wrap items-center w-full px-4 py-2 rounded-md bg-blue-gray-50 bg-opacity-60"},A={class:"flex items-center font-sans text-sm antialiased font-normal leading-normal transition-colors duration-300 cursor-pointer text-blue-gray-900 hover:text-pink-500"},R=t("span",{class:"mx-2 font-sans text-sm antialiased font-normal leading-normal pointer-events-none select-none text-blue-gray-500"},"/",-1),z=t("li",{class:"flex items-center font-sans text-sm antialiased font-normal leading-normal transition-colors duration-300 cursor-pointer text-blue-gray-900 hover:text-pink-500"},[t("span",{class:"opacity-60"},[t("span",null,"Estadistica")])],-1),L={class:"flex items-center justify-between gap-4"},P={class:"text-sm"},q={__name:"EstadisticaView",setup(K){const m=S(),y=O(),x=c(localStorage.getItem("token")),r=c(""),i=c(""),l=new Date,f=String(l.getDate()).padStart(2,"0"),b=String(l.getMonth()+1).padStart(2,"0"),k=l.getFullYear();i.value=k+"-"+b+"-"+f;const _=async()=>{try{const e={Authorization:"Bearer "+x.value,"Content-Type":"application/json"},a={link_uuid:m.params.uuid,date:i.value},{data:s}=await h.post("https://api.mxclick.site/api/link/view",a,{headers:e});r.value=s}catch(e){console.error(e)}};_();const w=async()=>{try{const e={Authorization:"Bearer "+x.value,"Content-Type":"application/json"},a={link_uuid:m.params.uuid},{data:s}=await h.post("https://api.mxclick.site/api/link/remove",a,{headers:e});s.status==="OK"&&(p.success(s.message,{theme:"colored",autoClose:1500,position:p.POSITION.BOTTOM_LEFT,transition:p.TRANSITIONS.ZOOM}),setTimeout(()=>{y.push("/")},1600))}catch(e){console.error(e)}};return(e,a)=>{const s=C("router-link");return d(),u(v,null,[t("div",F,n(r.value.length)+" clics ",1),t("div",V,[t("nav",M,[t("ol",j,[t("li",A,[B(s,{to:"/",class:"opacity-60"},{default:D(()=>[g(" Inicio ")]),_:1}),R]),z])])]),t("div",L,[t("button",{class:"p-4",onClick:w},"Eliminar enlace"),I(t("input",{type:"date","onUpdate:modelValue":a[0]||(a[0]=o=>i.value=o),onChange:_},null,544),[[N,i.value]])]),(d(!0),u(v,null,E(r.value,(o,T)=>(d(),u("div",{class:"p-4 border-b border-solid border-[#ddd]",key:o.id},[g(" #"+n(T+1)+" ",1),t("div",P,[t("div",null,"Dispositivo: "+n(o.device),1),t("div",null,"Pais: "+n(o.origin),1),t("div",null,"Fecha: "+n(o.date),1)])]))),128))],64)}}};export{q as default};
