import{a as h}from"./axios-21b846bc.js";import{_ as w,l as d}from"./_plugin-vue_export-helper-590031e2.js";import{u as S,r as c,a as I,o as p,c as _,b as e,t as a,d as T,w as N,F as O,e as B,f as x,p as V,g as A}from"./index-11c31f03.js";const E="/assets/usuario-1216284d.png";const n=r=>(V("data-v-caa16eda"),r=r(),A(),r),L={class:"border border-solid border-[#e6e4e4] shadow-md w-[95%] mx-auto mt-2"},$={class:"flex items-center gap-2 p-4"},j=n(()=>e("img",{src:E,class:"w-[40px] h-[40px] block"},null,-1)),F=n(()=>e("span",{class:"block text-xs font-light leading-3 text-gray-400"},"Bienvenido de nuevo,",-1)),H={class:"text-lg font-medium leading-6 text-gray-900"},P={class:"flex items-center justify-between bg-gray-100"},z={class:"px-4 py-3 border-r border-solid border-[#ddd] text-center text-sm text-gray-500"},M={class:"px-4 py-3 border-r border-solid border-[#ddd] text-center text-sm text-gray-500"},R={class:"p-4"},D=n(()=>e("h2",{class:"p-4 pt-0 font-medium text-gray-900"}," Ultimos acortadores creados ",-1)),U={class:"font-medium text-black"},W={class:"flex items-center gap-4"},Z=["onClick"],q=["onClick"],G=n(()=>e("button",{class:"px-3 py-1 mt-4 text-sm border border-solid border-slate-900"}," Stats ",-1)),J={__name:"HomeView",setup(r){const b=S(),g=c(localStorage.getItem("username")),m=c(localStorage.getItem("token")),u=c("");(async()=>{try{const t={Authorization:"Bearer "+m.value,"Content-Type":"application/json"},{data:o}=await h.get("https://api.mxclick.site/api/link/clics",{headers:t});u.value=o[0].total_clics}catch(t){console.error(t)}})();const i=c([]);(async()=>{try{const t={Authorization:"Bearer "+m.value,"Content-Type":"application/json"},{data:o}=await h.get("https://api.mxclick.site/api/link/list",{headers:t});i.value=o}catch(t){console.error(t)}})();async function v(t){try{await navigator.clipboard.writeText(t),d.success("Enlace copiado al portapapeles.",{theme:"colored",autoClose:1500,position:d.POSITION.TOP_LEFT,transition:d.TRANSITIONS.ZOOM})}catch(o){console.error("No se pudo copiar el texto:",o)}}function y(t,o="Compartir enlace",l="Mira este enlace!"){navigator.share?navigator.share({title:o,text:l,url:t}).then(()=>{console.log("Enlace compartido exitosamente!")}).catch(s=>{console.log("Ocurrió un error al compartir:",s)}):console.log("La API Web Share no está disponible en este navegador.")}const k=()=>{localStorage.clear(),b.push("/login")};return(t,o)=>{const l=I("router-link");return p(),_("main",null,[e("div",L,[e("div",$,[j,e("div",null,[F,e("h2",H,a(g.value),1)])]),e("div",P,[e("div",z,a(i.value.length)+" enlaces ",1),e("div",M,a(u.value)+" vistas ",1),e("button",{class:"px-4 py-3 text-sm text-center",onClick:k},"Cerrar sesion")])]),e("div",R,[T(l,{to:"/crear-enlace",class:"block px-4 py-2 text-center text-white bg-slate-800 hover:bg-slate-700"},{default:N(()=>[x("Crear acortador")]),_:1})]),D,(p(!0),_(O,null,B(i.value,(s,f)=>(p(),_("div",{class:"p-4 border-b border-solid border-[#ddd]",key:s.id},[e("div",null,[e("b",U,"#"+a(f),1),x(" https://mxclick.site/"+a(s.link_short),1)]),e("div",W,[e("button",{class:"px-3 py-1 mt-4 text-sm border border-solid border-slate-900",onClick:C=>v(`https://mxclick.site/${s.link_short}`)}," Copiar ",8,Z),e("button",{class:"px-3 py-1 mt-4 text-sm border border-solid border-slate-900",onClick:C=>y(`https://mxclick.site/${s.link_short}`)}," Compartir ",8,q),G])]))),128))])}}},te=w(J,[["__scopeId","data-v-caa16eda"]]);export{te as default};
