import{u as T,r as u,h as N,a as b,o as d,c as v,b as t,j as y,i as h,v as x,d as f,l as g,w as C,f as w,m as P,F as V,n as k,p as B,g as M}from"./index-66d35472.js";import{a as j}from"./axios-21b846bc.js";import{l as o}from"./index-a02dc08b.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";const p=n=>(B("data-v-9d6bb607"),n=n(),M(),n),L={class:"p-4shadow-lg"},F=["onSubmit"],A=p(()=>t("h1",{class:"mb-1 text-lg font-medium text-black"},"Inicio de sesion",-1)),R=p(()=>t("p",{class:"mb-4 text-sm font-light text-gray-400"}," Panel de administracion ",-1)),U={class:"flex items-center justify-between border border-solid border-[#ddd] mb-6"},D={class:"flex items-center justify-between border border-solid border-[#ddd] mb-6"},Z=p(()=>t("input",{type:"submit",class:"mb-4 inline-flex items-center justify-center py-2 px-6 font-medium tracking-wide text-white transition duration-200 bg-[#1e272e] rounded-sm hover:bg-[#0e1216] focus:shadow-outline focus:outline-none w-full",value:"Entrar"},null,-1)),K={class:"p-4"},q=p(()=>t("span",{class:"block pb-4 text-gray-600"},"¿Aun no tienes cuenta?",-1)),z={key:0,class:"fixed top-0 left-0 flex items-center justify-center w-full h-full text-lg text-black bg-white/90"},G={__name:"LoginView",setup(n){const I=T(),r=u(""),l=u(""),m=u(!1),O=async()=>{try{if(!r.value||!l.value)o.error("Debes llenar ambos campos.",{theme:"colored",autoClose:1500,position:o.POSITION.BOTTOM_LEFT,transition:o.TRANSITIONS.ZOOM});else{m.value=!0;const s={username:r.value,pass:l.value},{data:e}=await j.post("https://api.mxclick.site/api/auth/login",s);e.status==="OK"?(localStorage.setItem("token",e.token),localStorage.setItem("user_uuid",e.user_uuid),localStorage.setItem("username",e.username),I.push("/")):o.error(e.message,{theme:"colored",autoClose:1500,position:o.POSITION.BOTTOM_LEFT,transition:o.TRANSITIONS.ZOOM})}}catch(s){console.log(s)}finally{m.value=!1}},i=u(!1);let _;return N(()=>{const s=document.getElementById("inputPass");_=()=>{i.value=!i.value,i.value?s.type="text":s.type="password"}}),(s,e)=>{const c=b("font-awesome-icon"),S=b("router-link");return d(),v(V,null,[t("div",L,[t("form",{class:"p-4",onSubmit:y(O,["prevent"])},[A,R,t("div",U,[h(t("input",{type:"text",placeholder:"Usuario",class:"flex-1 py-2 pl-4 rounded-sm outline-0","onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a)},null,512),[[x,r.value]]),f(c,{icon:["fas","user"],class:"py-2 pr-4 text-gray-500"})]),t("div",D,[h(t("input",{type:"password",placeholder:"Contraseña",id:"inputPass",class:"flex-1 py-2 pl-4 rounded-sm outline-0","onUpdate:modelValue":e[1]||(e[1]=a=>l.value=a)},null,512),[[x,l.value]]),t("a",{href:"#",onClick:e[2]||(e[2]=y((...a)=>k(_)&&k(_)(...a),["prevent"]))},[i.value?(d(),g(c,{key:0,icon:["fas","eye-slash"],class:"py-2 pr-4 text-gray-500"})):(d(),g(c,{key:1,icon:["fas","eye"],class:"py-2 pr-4 text-gray-500"}))])]),Z],40,F),t("div",K,[q,f(S,{to:"/register",class:"block w-full px-4 py-2 text-center text-gray-700 bg-transparent border border-gray-500 rounded hover:bg-gray-100 hover:text-black hover:border-black"},{default:C(()=>[w(" Crear Cuenta ")]),_:1})])]),m.value?(d(),v("div",z,[f(c,{icon:["fas","circle-notch"],spin:"",class:"mr-2"}),w(" Procesando ... ")])):P("",!0)],64)}}},X=E(G,[["__scopeId","data-v-9d6bb607"]]);export{X as default};
