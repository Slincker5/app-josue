import{H as p,r as o,o as v,c as w,l as m}from"./index-11c31f03.js";import{a as n}from"./axios-21b846bc.js";const k={key:0,class:"text-4xl font-bold text-center"},x={__name:"RedireccionView",setup(_){const r=p(),a=o(s());function s(){const e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":"Desktop"}async function c(){try{const{data:e}=await n.get("https://ipapi.co/json/");return e.country_name||"unknown"}catch(e){return console.error("Error obteniendo el origin desde IPAPI:",e),"unknown"}}const i=o(!1);return(async()=>{try{const e={link_short:r.params.uuid},{data:t}=await n.post("https://api.mxclick.site/api/view/validate",e);if(t.length>0){const d=await c(),l={link_uuid:t[0].link_uuid,device:a.value,origin:d},{data:u}=await n.post("https://api.mxclick.site/api/view/logger",l);u.status==="OK"&&(window.location=t[0].link_real)}else i.value=!0}catch(e){console.error(e)}})(),(e,t)=>i.value?(v(),w("div",k,"El link no existe")):m("",!0)}};export{x as default};
