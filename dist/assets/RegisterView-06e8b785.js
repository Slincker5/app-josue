import{u as O,r as c,h as S,a as T,o as d,c as f,b as s,j as _,i as v,v as y,d as h,l as x,f as k,m as N,F as C,n as g,p as V,g as P}from"./index-66d35472.js";import{a as B}from"./axios-21b846bc.js";import{l as o}from"./index-a02dc08b.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";const b=r=>(V("data-v-3ffe9a85"),r=r(),P(),r),R={class:"p-4shadow-lg"},j=["onSubmit"],E=b(()=>s("h1",{class:"mb-6 text-lg font-medium text-black"},"Crear Cuenta",-1)),F={class:"flex items-center justify-between border border-solid border-[#ddd] mb-6"},U={class:"flex items-center justify-between border border-solid border-[#ddd] mb-6"},A=b(()=>s("input",{type:"submit",class:"inline-flex items-center justify-center py-2 px-6 font-medium tracking-wide text-white transition duration-200 bg-[#1e272e] rounded-sm hover:bg-[#0e1216] focus:shadow-outline focus:outline-none w-full",value:"Crear cuenta"},null,-1)),D={key:0,class:"fixed top-0 left-0 flex items-center justify-center w-full h-full text-lg text-black bg-white/90"},L={__name:"RegisterView",setup(r){const w=O(),l=c(""),n=c(""),p=c(!1),I=async()=>{try{if(!l.value||!n.value)o.error("Debes llenar ambos campos.",{theme:"colored",autoClose:1500,position:o.POSITION.BOTTOM_LEFT,transition:o.TRANSITIONS.ZOOM});else{p.value=!0;const t={username:l.value,pass:n.value},{data:e}=await B.post("https://api.mxclick.site/api/auth/register",t);e.status==="OK"?(localStorage.setItem("token",e.token),localStorage.setItem("user_uuid",e.user_uuid),localStorage.setItem("username",e.username),w.push("/")):o.error(e.message,{theme:"colored",autoClose:1500,position:o.POSITION.BOTTOM_LEFT,transition:o.TRANSITIONS.ZOOM})}}catch(t){console.log(t)}finally{p.value=!1}},i=c(!1);let m;return S(()=>{const t=document.getElementById("inputPass");m=()=>{i.value=!i.value,i.value?t.type="text":t.type="password"}}),(t,e)=>{const u=T("font-awesome-icon");return d(),f(C,null,[s("div",R,[s("form",{class:"p-4",onSubmit:_(I,["prevent"])},[E,s("div",F,[v(s("input",{type:"text",placeholder:"Usuario",class:"flex-1 py-2 pl-4 rounded-sm outline-0","onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a)},null,512),[[y,l.value]]),h(u,{icon:["fas","user"],class:"py-2 pr-4 text-gray-500"})]),s("div",U,[v(s("input",{type:"password",placeholder:"ContraseÃ±a",id:"inputPass",class:"flex-1 py-2 pl-4 rounded-sm outline-0","onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a)},null,512),[[y,n.value]]),s("a",{href:"#",onClick:e[2]||(e[2]=_((...a)=>g(m)&&g(m)(...a),["prevent"]))},[i.value?(d(),x(u,{key:0,icon:["fas","eye-slash"],class:"py-2 pr-4 text-gray-500"})):(d(),x(u,{key:1,icon:["fas","eye"],class:"py-2 pr-4 text-gray-500"}))])]),A],40,j)]),p.value?(d(),f("div",D,[h(u,{icon:["fas","circle-notch"],spin:"",class:"mr-2"}),k(" Procesando ... ")])):N("",!0)],64)}}},G=M(L,[["__scopeId","data-v-3ffe9a85"]]);export{G as default};
